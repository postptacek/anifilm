<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Anifilm AR Hunt</title>
  <!-- We use the CDN for A-Frame and MindAR for simplicity in this setup, 
         but we could use the local npm packages if we configured the worker paths correctly. -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
  <script type="module" crossorigin src="./assets/index-PjUR4cpl.js"></script>
  <link rel="stylesheet" crossorigin href="./assets/index-BeMSnjM7.css">
</head>

<body>
  <div id="landing-page">
    <div class="landing-content">
      <h1>ANIFILM<br>AR HUNT</h1>
      <p>Find the 12 hidden frames to unlock the secret animation.</p>
      <button id="start-btn">START HUNT</button>
    </div>
  </div>

  <div id="ui-layer" class="hidden">
    <div class="top-bar">
      <button id="collection-btn">COLLECTION</button>
    </div>
    <div id="scan-overlay"></div>
    <div id="capture-ui" class="hidden">
      <button id="capture-btn"></button>
      <p>TARGET DETECTED</p>
    </div>
  </div>

  <div id="collection-view" class="hidden">
    <div class="collection-header">
      <h2>COLLECTION</h2>
      <button id="close-collection-btn">Ã—</button>
    </div>
    <div class="collection-grid" id="collection-grid">
      <!-- Items generated by JS -->
    </div>
  </div>

  <div id="victory-screen" class="hidden">
    <h1>COLLECTION COMPLETE</h1>
    <p>You have found all 12 frames!</p>
    <button id="submit-btn">SUBMIT TO ETHER</button>
  </div>

  <!-- AR Scene -->
  <!-- imageTargetSrc should point to your compiled targets.mind file -->
  <a-scene mindar-image="imageTargetSrc: ./targets.mind; autoStart: true; uiLoading: no; uiError: no; uiScanning: no;"
    color-space="sRGB" renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">

    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

    <!-- Targets 0-11 -->
    <!-- We generate these entities in JS or hardcode them here. Hardcoding is clearer for now. -->
    <!-- Note: targetIndex corresponds to the order in the .mind file -->

    <a-entity mindar-image-target="targetIndex: 0" id="target-0">
      <a-plane color="cyan" opacity="0.5" height="1" width="1" rotation="0 0 0"></a-plane>
      <a-text value="FRAME 1" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 1" id="target-1">
      <a-plane color="magenta" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 2" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 2" id="target-2">
      <a-plane color="yellow" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 3" align="center" color="black"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 3" id="target-3">
      <a-plane color="lime" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 4" align="center" color="black"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 4" id="target-4">
      <a-plane color="orange" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 5" align="center" color="black"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 5" id="target-5">
      <a-plane color="red" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 6" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 6" id="target-6">
      <a-plane color="purple" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 7" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 7" id="target-7">
      <a-plane color="blue" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 8" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 8" id="target-8">
      <a-plane color="teal" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 9" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 9" id="target-9">
      <a-plane color="pink" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 10" align="center" color="black"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 10" id="target-10">
      <a-plane color="brown" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 11" align="center" color="white"></a-text>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 11" id="target-11">
      <a-plane color="gold" opacity="0.5" height="1" width="1"></a-plane>
      <a-text value="FRAME 12" align="center" color="black"></a-text>
    </a-entity>

  </a-scene>

</body>

</html>